$slide-time: 500ms;
$bounce-time: 250ms;

$slide-margin: 1rem;

$bounce: transform $bounce-time cubic-bezier(0.68, -0.55, 0.265, 1.55);
$slide: transform $slide-time ease;

.carousel {
  overflow: hidden;
}
.track {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 0;

  &.viewone {
    width: calc((100% * 5 / 1) + #{4 * $slide-margin});
    margin-left: calc(-200% - #{2 * $slide-margin});
  }
  &.viewtwo {
    width: calc((100% * 5 / 2) + #{1.5 * $slide-margin});
    margin-left: calc(-75% - #{0.75 * $slide-margin});
  }
  &.viewthree {
    width: calc((100% * 5 / 3) + #{$slide-margin/2});
    margin-left: calc((-100% / 3) - #{$slide-margin/4});
  }

  &.dragging {
    user-select: none;
  }

  &.bouncing {
    transition: $bounce;
  }

  &.forwards,
  &.backwards {
    &.forwards {
      transform: translateX(calc((-100% / 5) - #{$slide-margin / 5}));
    }
    &.backwards {
      transform: translateX(calc((100% / 5) + #{$slide-margin / 5}));
    }
    &.slide {
      transition: $slide;
    }
  }

  &.jump {
    &.forwards,
    &.backwards {
      transform: unset;
    }
    &.viewone {
      $ratio: 6 / 1;
      width: calc((100% * #{$ratio}) + #{($ratio - 1) * $slide-margin});
      &.forwards {
        margin-left: calc(-100% - #{$slide-margin});
        &.slide {
          transform: translateX(calc(-50% - #{$slide-margin/2}));
        }
      }
      &.backwards {
        margin-left: calc(-400% - #{4 * $slide-margin});
        &.slide {
          transform: translateX(calc(50% + #{$slide-margin/2}));
        }
      }
    }
    &.viewtwo {
      $ratio: 6/2;
      width: calc((100% * #{$ratio}) + #{($ratio - 1) * $slide-margin});
      &.forwards {
        margin-left: calc(-25% - #{0.25 * $slide-margin});
        &.slide {
          transform: translateX(calc(-50% - #{$slide-margin/2}));
        }
      }
      &.backwards {
        margin-left: calc(-175% - #{1.75 * $slide-margin});
        &.slide {
          transform: translateX(calc(50% + #{$slide-margin/2}));
        }
      }
    }
    &.viewthree {
      $ratio: 6/3;
      width: calc((100% * #{$ratio}) + #{($ratio - 1) * $slide-margin});
      &.forwards {
        margin-left: 0;
        &.slide {
          transform: translateX(calc(-50% - #{$slide-margin/2}));
        }
      }
      &.backwards {
        margin-left: calc(-100% - #{$slide-margin});
        &.slide {
          transform: translateX(calc(50% + #{$slide-margin/2}));
        }
      }
    }
  }
}
